{% extends 'base_list.html' %}
{% block title %}所有备件{% endblock %}
{% block h1_title %}所有备件{% endblock %}
{% block h2_title %}备件管理{% endblock %}
{% block h3_title %}
    <li class="breadcrumb-item active">所有备件</li>
{% endblock %}
{% block device_show %}show{% endblock %}
{% block all_device_active %}class="active"{% endblock %}

{% block content %}

  <!-- ======= 头部按钮 ======= -->
<div class="row">
    <div class="col-8">
                    <b>排序 : - </b>
                    <a href="{% url 'device_list' %}?search={{ search }}&orderby=id">ID</a>  |
                    <a href="">库存</a> |
    </div>
    <div class="col-4">
        <form class="d-flex">
            <input class="form-control" type="text" placeholder="请输入型号或规格进行查找" name="search" value={{ search }}>
            <button class="btn btn-outline-success" type="submit"><i class="bi bi-search"></i></button>
        </form>
    </div>
</div>
<br>

  <!-- ======= 表格 ======= -->
<div class="table-responsive ">
<table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">类型</th>
        <th scope="col">型号（P/N）</th>
        <th scope="col">规格</th>
        <th scope="col">厂家</th>
        <th scope="col">库存</th>
        <th scope="col">选项</th>
      </tr>
    </thead>
    <tbody>
      {% for device in devices %}
      <tr>
        <td>{{ device.id }}</td>
        <td>{{ device.spu }}</td>
        <td>{{ device.pn }}</td>
        <td>{{ device.spec }}</td>
        <td>{{ device.manufacturer }}</td>
        <td>{{ device.device_inventory }}</td>
        <td>
            <a href="#" class="badge rounded-pill bg-warning text-dark">查看</a>
            <a href="#" class="badge rounded-pill bg-info text-dark">入库</a>
            <a href="#" class="badge rounded-pill bg-danger">修改</a>
        </td>
      </tr>
    {% endfor %}
    </tbody>
</table>
</div>
  <!-- ======= 页码 ======= -->
<ul class="pagination justify-content-center">

{#    上一页#}
    {% if devices.has_previous %}
  <li class="page-item"><a class="page-link" href="?page={{ devices.previous_page_number }}" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>
    {% else %}
  <li class="page-item disabled"><a class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>
    {% endif %}

{#    全部页码#}
    {% for page_num in devices.paginator.page_range %}
        {% if devices.number == page_num %}
  <li class="page-item active"><a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a></li>
        {% else %}
  <li class="page-item"><a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a></li>
        {% endif %}
    {% endfor %}

{#    下一页#}
    {% if devices.has_next %}
  <li class="page-item"><a class="page-link" href="?page={{ devices.next_page_number }}" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>
    {% else %}
  <li class="page-item disabled"><a class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>
    {% endif %}

</ul>

{% endblock %}